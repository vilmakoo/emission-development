{"version":3,"sources":["services/search.js","state/searchReducer.js","components/SearchBar.js","components/Result.js","components/App.js","state/store.js","index.js"],"names":["services_search","countrysEmissions","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","country","perCapita","response","wrap","_context","prev","next","axios","get","concat","sent","abrupt","data","stop","this","_x","_x2","apply","arguments","initialState","searchTerm","searchPopulations","searchReducer","state","length","undefined","action","type","objectSpread","SearchBar","_this","react_default","createElement","Form","onSubmit","event","preventDefault","props","searchCountrysEmissions","Label","className","Control","value","onChange","changeSearchTerm","target","placeholder","Check","label","togglePopulationCheckBox","Button","Component","mapDispatchToProps","dispatch","searchService","ConnectedSearchBar","connect","search","Result","options","theme","palette","yaxis","min","max","map","d","emissions","reduce","b","Math","seriesName","axisTicks","show","axisBorder","color","labels","style","title","text","tooltip","enabled","population","opposite","fixed","position","offsetY","offsetX","x","formatter","legend","horizontalAlign","series","name","filter","year","y","id","react_apexcharts_min_default","height","width","ConnectedResult","App","components_SearchBar","components_Result","reducer","combineReducers","store","createStore","applyMiddleware","thunk","render","ReactDOM","es","components_App","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.0aea124d.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst countrysEmissions = async (country, perCapita) => {\n  const response = await axios.get(`/api/emissions/${country}?percapita=${perCapita}`);\n  return response.data;\n};\n\nexport default { countrysEmissions };","import searchService from '../services/search';\n\nconst initialState = { searchTerm: '', searchPopulations: false };\n\nconst searchReducer = (state = initialState, action) => {\n  switch (action.type) {\n  case 'CHANGE_SEARCH_TERM':\n    return {\n      ...state,\n      searchTerm: action.searchTerm\n    };\n\n  case 'TOGGLE_POPULATION_CHECK_BOX':\n    return {\n      ...state,\n      searchPopulations: !state.searchPopulations\n    };\n\n  case 'SET_RESULT':\n    return {\n      ...state,\n      country: action.country,\n      data: action.data\n    };\n\n  default:\n    return state;\n  }\n};\n\nexport const changeSearchTerm = (searchTerm) => {\n  return {\n    type: 'CHANGE_SEARCH_TERM',\n    searchTerm: searchTerm\n  };\n};\n\nexport const togglePopulationCheckBox = () => {\n  return {\n    type: 'TOGGLE_POPULATION_CHECK_BOX'\n  };\n};\n\nexport const searchCountrysEmissions = (country, searchPopulations) => {\n  return async (dispatch) => {\n    const data = await searchService.countrysEmissions(country, searchPopulations);\n\n    dispatch({\n      type: 'SET_RESULT',\n      country: data.country,\n      data: data.data\n    });\n  };\n};\n\n\nexport default searchReducer;","import React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { changeSearchTerm, searchCountrysEmissions, togglePopulationCheckBox } from '../state/searchReducer';\n\nclass SearchBar extends Component {\n  render() {\n    const handleSearchTermChange = (event) => {\n      this.props.changeSearchTerm(event.target.value);\n    };\n\n    const handleCheckBoxClick = (event) => {\n      this.props.togglePopulationCheckBox();\n    };\n\n    const search = (event) => {\n      event.preventDefault();\n      this.props.searchCountrysEmissions(this.props.searchTerm, this.props.searchPopulations);\n    };\n\n    return (\n      <Form onSubmit={search}>\n        <Form.Label className={'search-title'}>Search</Form.Label>\n        <p>Search for a country to see how its CO² emissions have developed during the years</p>\n        {/* TODO: search with what? laita siis ohjeistus */}\n        <Form.Control className={'search-input'} type='input' value={this.props.searchTerm} onChange={handleSearchTermChange} placeholder='Search' />\n        <Form.Check className={'search-checkbox'} label={'Include populations'} onChange={handleCheckBoxClick} />\n        <Button className={'search-button'} type='submit'>Search</Button>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    searchTerm: state.search.searchTerm,\n    searchPopulations: state.search.searchPopulations\n  };\n};\n\nconst mapDispatchToProps = {\n  changeSearchTerm,\n  searchCountrysEmissions,\n  togglePopulationCheckBox\n};\n\nconst ConnectedSearchBar = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SearchBar);\n\nexport default ConnectedSearchBar;","import React, { Component } from 'react';\nimport Chart from 'react-apexcharts';\nimport { connect } from 'react-redux';\n\nclass Result extends Component {\n  render() {\n    const options = {\n      theme: {\n        palette: 'palette1'\n      },\n      yaxis: [\n        {\n          min: 0,\n          max: this.props.data ? this.props.data.map(d => d.emissions).reduce((a, b) => Math.max(a,b), 0) + 50000 : 1000,\n          seriesName: 'CO²-Emissions',\n          axisTicks: {\n            show: true,\n          },\n          axisBorder: {\n            show: true,\n            color: '#008FFB',\n          },\n          labels: {\n            style: {\n              color: '#008FFB',\n            }\n          },\n          title: {\n            text: 'CO²-emissions (kt)',\n            style: {\n              color: '#008FFB',\n            }\n          },\n          tooltip: {\n            enabled: true\n          }\n        },\n        {\n          min: 0,\n          max: (this.props.data && this.props.data.map(d => d.population)) ? this.props.data.map(d => d.population).reduce((a, b) => Math.max(a,b), 0) + 1000000 : 1000,\n          seriesName: 'Population',\n          axisTicks: {\n            show: true,\n          },\n          axisBorder: {\n            show: true,\n            color: '#00E396'\n          },\n          labels: {\n            style: {\n              color: '#00E396',\n            }\n          },\n          title: {\n            text: 'Population',\n            style: {\n              color: '#00E396',\n            }\n          },\n        },\n        {\n          seriesName: 'CO²-Emissions',\n          min: 0,\n          max: (this.props.data && this.props.data.map(d => d.perCapita)) ? this.props.data.map(d => d.perCapita).reduce((a, b) => Math.max(a,b), 0) + 0.005 : 0.1,\n          opposite: true,\n          axisTicks: {\n            show: true,\n          },\n          axisBorder: {\n            show: true,\n            color: '#FEB019',\n          },\n          labels: {\n            style: {\n              color: '#FEB019',\n            }\n          },\n          title: {\n            text: 'CO²-emissions Per Capita (kt)',\n            style: {\n              color: '#FEB019',\n            }\n          }\n        }\n      ],\n      tooltip: {\n        fixed: {\n          enabled: true,\n          position: 'topLeft', // topRight, topLeft, bottomRight, bottomLeft\n          offsetY: 30,\n          offsetX: 60\n        },\n        x: { formatter: (seriesName) => 'Year: ' + seriesName }\n      },\n      legend: {\n        horizontalAlign: 'left',\n        offsetX: 40\n      }\n    };\n\n    const series = [{\n      name: 'CO²-Emissions',\n      type: 'line',\n      data: (this.props.data && this.props.data.map(d => d.emissions)) ? this.props.data.filter(d => d.emissions !== null).map((d) => {\n        return {\n          x: d.year,\n          y: d.emissions\n        };\n      }) : []\n    }, {\n      name: 'Population',\n      type: 'line',\n      data: (this.props.data && this.props.data.map(d => d.population)) ? this.props.data.filter(d => d.population !== null).map((d) => {\n        return {\n          x: d.year,\n          y: d.population\n        };\n      }) : []\n    }, {\n      // TODO: per capita omaan charttiinsa\n      name: 'CO²-Emissions Per Capita',\n      type: 'line',\n      data: (this.props.data && this.props.data.map(d => d.perCapita))\n        ? this.props.data.filter(d => d.perCapita !== null).map((d) => {\n          return {\n            x: d.year,\n            y: d.perCapita\n          };\n        })\n        : []\n    }];\n\n    return (\n      <div>\n        <div className=\"App\">\n          <h2>Result</h2>\n\n          {/* näytä alla olevat vain jos on jotain näytettävää eli showResult = true */}\n          {/* näytä joku varoitushässäkkä jos country on NOT FOUND */}\n          <div id=\"country\"><b>Country: {this.props.country}</b></div>\n          <p>Note that the scales of the axes are different.</p>\n\n          <div id=\"chart\">\n            <Chart options={options} series={series} type=\"line\" height=\"800px\" width=\"1000px\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    country: state.search.country,\n    data: state.search.data\n  };\n};\n\nconst ConnectedResult = connect(mapStateToProps)(Result);\n\nexport default ConnectedResult;","import React, { Component } from 'react';\nimport SearchBar from './SearchBar';\nimport Result from './Result';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className='container'>\n        <h1>CO²-emissions</h1>\n        <SearchBar />\n        <Result />\n      </div>\n    );\n  }\n}\n\nexport default App;","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport searchReducer from './searchReducer';\n\nconst reducer = combineReducers({\n  search: searchReducer,\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk)\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './state/store';\nimport './styles/index.scss';\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App/>\n    </Provider>,\n    document.getElementById('root'));\n};\n\nrender();\nstore.subscribe(render);"],"sourceRoot":""}